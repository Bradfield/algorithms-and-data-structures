<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Parse Tree | Algorithms and Data Structures with Python</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.4.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-image-captions/image-captions.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-prism/prism.css">
        
    
    
        <link rel="stylesheet" href="../website.css">
    

        
    
    
    <link rel="next" href="../trees/tree-traversals.html" />
    
    
    <link rel="prev" href="../trees/nodes-and-references.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="8.6" data-basepath=".." data-revision="Mon Nov 02 2015 12:27:07 GMT-0800 (PST)">
    

<div class="book-summary">
    <div class="book-search" role="search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" >
            
            <span><b>1.</b> Analysis</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="analysis/introduction.html">
            
                
                    <a href="../analysis/introduction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Introduction to Algorithm Analysis
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="analysis/big-o-notation.html">
            
                
                    <a href="../analysis/big-o-notation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Big-O Notation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="analysis/an-anagram-detection-example.html">
            
                
                    <a href="../analysis/an-anagram-detection-example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        An Anagram Detection Example
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="analysis/performance-of-python-types.html">
            
                
                    <a href="../analysis/performance-of-python-types.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        Performance of Python Types
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" >
            
            <span><b>2.</b> Stacks</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="stacks/what-is-a-stack.html">
            
                
                    <a href="../stacks/what-is-a-stack.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        What is a Stack?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="stacks/the-stack-abstract-data-type.html">
            
                
                    <a href="../stacks/the-stack-abstract-data-type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        The Stack Abstract Data Type
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="stacks/implementing-a-stack.html">
            
                
                    <a href="../stacks/implementing-a-stack.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Implementing a Stack
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="stacks/simple-balanced-parentheses.html">
            
                
                    <a href="../stacks/simple-balanced-parentheses.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Simple Balanced Parentheses
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="stacks/balanced-symbols.html">
            
                
                    <a href="../stacks/balanced-symbols.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Balanced Symbols
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="stacks/converting-number-bases.html">
            
                
                    <a href="../stacks/converting-number-bases.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Converting Number Bases
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="stacks/infix-prefix-and-postfix-expressions.html">
            
                
                    <a href="../stacks/infix-prefix-and-postfix-expressions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Infix, Prefix, Postfix
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" >
            
            <span><b>3.</b> Queues</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="queues/what-is-a-queue.html">
            
                
                    <a href="../queues/what-is-a-queue.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        What is a Queue?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="queues/the-queue-abstract-data-type.html">
            
                
                    <a href="../queues/the-queue-abstract-data-type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        The Queue Abstract Data Type
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="queues/implementing-a-queue.html">
            
                
                    <a href="../queues/implementing-a-queue.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Implementing a Queue
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="queues/simulating-hot-potato.html">
            
                
                    <a href="../queues/simulating-hot-potato.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Simulating Hot Potato
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" >
            
            <span><b>4.</b> Deques</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="deques/what-is-a-deque.html">
            
                
                    <a href="../deques/what-is-a-deque.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        What is a Deque?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="deques/the-deque-abstract-data-type.html">
            
                
                    <a href="../deques/the-deque-abstract-data-type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        The Deque Abstract Data Type
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="deques/implementing-a-deque.html">
            
                
                    <a href="../deques/implementing-a-deque.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Implementing a Deque
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="deques/palindrome-checker.html">
            
                
                    <a href="../deques/palindrome-checker.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Palindrome Checker
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" >
            
            <span><b>5.</b> Lists</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="lists/what-is-a-list.html">
            
                
                    <a href="../lists/what-is-a-list.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        What is a List?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="lists/the-unordered-list-abstract-data-type.html">
            
                
                    <a href="../lists/the-unordered-list-abstract-data-type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        The Unordered List Abstract Data Type
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="lists/implementing-an-unordered-list.html">
            
                
                    <a href="../lists/implementing-an-unordered-list.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Implementing an Unordered List
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="lists/the-ordered-list-abstract-data-type.html">
            
                
                    <a href="../lists/the-ordered-list-abstract-data-type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        The Ordered List Abstract Data Type
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="lists/implementing-an-ordered-list.html">
            
                
                    <a href="../lists/implementing-an-ordered-list.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Implementing an Ordered List
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" >
            
            <span><b>6.</b> Recursion</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="recursion/what-is-recursion.html">
            
                
                    <a href="../recursion/what-is-recursion.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        What is Recursion?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="recursion/calculating-the-sum-of-a-list-of-numbers.html">
            
                
                    <a href="../recursion/calculating-the-sum-of-a-list-of-numbers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Calculating the Sum of a List of Numbers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="recursion/the-three-laws-of-recursion.html">
            
                
                    <a href="../recursion/the-three-laws-of-recursion.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        The Three Laws of Recursion
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="recursion/converting-an-integer-to-a-string.html">
            
                
                    <a href="../recursion/converting-an-integer-to-a-string.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Converting an Integer to a String
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="recursion/stack-frames-implementing-recursion.html">
            
                
                    <a href="../recursion/stack-frames-implementing-recursion.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        Stack Frames Implementing Recursion
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="recursion/tower-of-hanoi.html">
            
                
                    <a href="../recursion/tower-of-hanoi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                        Tower of Hanoi
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="recursion/dynamic-programming.html">
            
                
                    <a href="../recursion/dynamic-programming.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                        Dynamic Programming
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" >
            
            <span><b>7.</b> Searching</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="searching/searching.html">
            
                
                    <a href="../searching/searching.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Searching
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="searching/the-sequential-search.html">
            
                
                    <a href="../searching/the-sequential-search.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        The Sequential Search
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="searching/the-binary-search.html">
            
                
                    <a href="../searching/the-binary-search.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        The Binary Search
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="searching/hashing.html">
            
                
                    <a href="../searching/hashing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        Hashing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="searching/the-map-abstract-data-type.html">
            
                
                    <a href="../searching/the-map-abstract-data-type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.</b>
                        
                        The Map Abstract Data Type
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" >
            
            <span><b>8.</b> Trees and Tree Algorithms</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="trees/introduction.html">
            
                
                    <a href="../trees/introduction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="trees/examples-of-trees.html">
            
                
                    <a href="../trees/examples-of-trees.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Examples of Trees
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="trees/vocabulary-and-definitions.html">
            
                
                    <a href="../trees/vocabulary-and-definitions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Vocabulary and Definitions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="trees/list-of-lists-representation.html">
            
                
                    <a href="../trees/list-of-lists-representation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        List of Lists Representation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="trees/nodes-and-references.html">
            
                
                    <a href="../trees/nodes-and-references.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        Nodes and References
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="8.6" data-path="trees/parse-tree.html">
            
                
                    <a href="../trees/parse-tree.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.</b>
                        
                        Parse Tree
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="trees/tree-traversals.html">
            
                
                    <a href="../trees/tree-traversals.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.7.</b>
                        
                        Tree Traversals
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.8" data-path="trees/priority-queues-with-binary-heaps.html">
            
                
                    <a href="../trees/priority-queues-with-binary-heaps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.8.</b>
                        
                        Priority Queues with Binary Heaps
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.9" data-path="trees/binary-heap-implementation.html">
            
                
                    <a href="../trees/binary-heap-implementation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.9.</b>
                        
                        Binary Heap Implementation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.10" data-path="trees/binary-search-trees.html">
            
                
                    <a href="../trees/binary-search-trees.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.10.</b>
                        
                        Binary Search Trees
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.11" data-path="trees/search-tree-implementation.html">
            
                
                    <a href="../trees/search-tree-implementation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.11.</b>
                        
                        Search Tree Implementation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.12" data-path="trees/search-tree-analysis.html">
            
                
                    <a href="../trees/search-tree-analysis.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.12.</b>
                        
                        Search Tree Analysis
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.13" data-path="trees/balanced-binary-search-trees.html">
            
                
                    <a href="../trees/balanced-binary-search-trees.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.13.</b>
                        
                        Balanced Binary Search Trees
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.14" data-path="trees/avl-tree-implementation.html">
            
                
                    <a href="../trees/avl-tree-implementation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.14.</b>
                        
                        AVL Tree Implementation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.15" data-path="trees/summary-of-map-adt-implementations.html">
            
                
                    <a href="../trees/summary-of-map-adt-implementations.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.15.</b>
                        
                        Summary of Map ADT Implementations
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" >
            
            <span><b>9.</b> Graphs and Graph Algorithms</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="graphs/introduction.html">
            
                
                    <a href="../graphs/introduction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="graphs/the-graph-abstract-data-type.html">
            
                
                    <a href="../graphs/the-graph-abstract-data-type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        The Graph Abstract Data Type
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="graphs/an-adjacency-matrix.html">
            
                
                    <a href="../graphs/an-adjacency-matrix.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        An Adjacency Matrix
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="graphs/an-adjacency-list.html">
            
                
                    <a href="../graphs/an-adjacency-list.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        An Adjacency List
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5" data-path="graphs/implementation.html">
            
                
                    <a href="../graphs/implementation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.</b>
                        
                        Implementation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.6" data-path="graphs/word-ladder.html">
            
                
                    <a href="../graphs/word-ladder.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.</b>
                        
                        The Word Ladder Problem
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.7" data-path="graphs/knights-tour.html">
            
                
                    <a href="../graphs/knights-tour.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.7.</b>
                        
                        The Knight’s Tour Problem
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.8" data-path="graphs/depth-first-search.html">
            
                
                    <a href="../graphs/depth-first-search.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.8.</b>
                        
                        General Depth First Search
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.9" data-path="graphs/topological-sorting.html">
            
                
                    <a href="../graphs/topological-sorting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.9.</b>
                        
                        Topological Sorting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.10" data-path="graphs/strongly-connected-components.html">
            
                
                    <a href="../graphs/strongly-connected-components.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.10.</b>
                        
                        Strongly Connected Components
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.11" data-path="graphs/dijkstras-algorithm.html">
            
                
                    <a href="../graphs/dijkstras-algorithm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.11.</b>
                        
                        Shortest Path Problems and Dijkstra’s Algorithm
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.12" data-path="graphs/prims-spanning-tree-algorithm.md.html">
            
            <span><b>9.12.</b> Prims Spanning Tree Algorithm</span>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Algorithms and Data Structures with Python</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="parse-tree">Parse Tree</h1>
<p>With the implementation of our tree data structure complete, we now look
at an example of how a tree can be used to solve some real problems. In
this section we will look at parse trees. Parse trees can be used to
represent real-world constructions like sentences or mathematical
expressions.</p>
<p>The diagram below shows the hierarchical structure of a
simple sentence. Representing a sentence as a tree structure allows us
to work with the individual parts of the sentence by using subtrees.</p>
<p><figure><img src="figures/parse-tree-sentence.png" alt="A Parse Tree for a Simple Sentence"><figcaption>A Parse Tree for a Simple Sentence</figcaption></figure></p>
<p>We can also represent a mathematical expression such as
<script type="math/tex; ">((7 + 3) * (5 - 2))</script> as a parse tree, as shown in
above.</p>
<p><figure><img src="figures/parse-tree-math-expression.png" alt="Parse Tree for (7+3) * (5-2)"><figcaption>Parse Tree for (7+3) * (5-2)</figcaption></figure></p>
<p>We have already looked at fully
parenthesized expressions, so what do we know about this expression? We
know that multiplication has a higher precedence than either addition or
subtraction. Because of the parentheses, we know that before we can do
the multiplication we must evaluate the parenthesized addition and
subtraction expressions. The hierarchy of the tree helps us understand
the order of evaluation for the whole expression. Before we can evaluate
the top-level multiplication, we must evaluate the addition and the
subtraction in the subtrees. The addition, which is the left subtree,
evaluates to 10. The subtraction, which is the right subtree, evaluates
to 3. Using the hierarchical structure of trees, we can simply replace
an entire subtree with one node once we have evaluated the expressions
in the children. Applying this replacement procedure gives us the
simplified tree shown below.</p>
<p><figure><img src="figures/parse-tree-math-simplified.png" alt="A Simplified Parse Tree for (7+3) * (5-2)"><figcaption>A Simplified Parse Tree for (7+3) * (5-2)</figcaption></figure></p>
<p>In the rest of this section we are going to examine parse trees in more
detail. In particular we will look at</p>
<ul>
<li>How to build a parse tree from a fully parenthesized
mathematical expression.</li>
<li>How to evaluate the expression stored in a parse tree.</li>
<li>How to recover the original mathematical expression from a
parse tree.</li>
</ul>
<p>The first step in building a parse tree is to break up the expression
string into a list of tokens. There are four different kinds of tokens
to consider: left parentheses, right parentheses, operators, and
operands. We know that whenever we read a left parenthesis we are
starting a new expression, and hence we should create a new tree to
correspond to that expression. Conversely, whenever we read a right
parenthesis, we have finished an expression. We also know that operands
are going to be leaf nodes and children of their operators. Finally, we
know that every operator is going to have both a left and a right child.</p>
<p>Using the information from above we can define four rules as follows:</p>
<ol>
<li>If the current token is a <code>&apos;(&apos;</code>, add a new node as the left child of
the current node, and descend to the left child.</li>
<li>If the current token is in the list <code>[&apos;+&apos;,&apos;-&apos;,&apos;/&apos;,&apos;*&apos;]</code>, set the
root value of the current node to the operator represented by the
current token. Add a new node as the right child of the current node
and descend to the right child.</li>
<li>If the current token is a number, set the root value of the current
node to the number and return to the parent.</li>
<li>If the current token is a <code>&apos;)&apos;</code>, go to the parent of the
current node.</li>
</ol>
<p>Before writing the Python code, let&#x2019;s look at an example of the rules
outlined above in action. We will use the expression <script type="math/tex; ">(3 + (4 * 5))</script>. We
will parse this expression into the following list of character tokens
<code>[&apos;(&apos;, &apos;3&apos;, &apos;+&apos;, &apos;(&apos;, &apos;4&apos;, &apos;*&apos;, &apos;5&apos; ,&apos;)&apos;,&apos;)&apos;]</code>. Initially we will
start out with a parse tree that consists of an empty root node.
The figures below illustrate the structure and contents
of the parse tree, as each new token is processed.</p>
<p><figure><img src="figures/buildExp1.png" alt=" "><figcaption> </figcaption></figure></p>
<p><figure><img src="figures/buildExp2.png" alt=" "><figcaption> </figcaption></figure></p>
<p><figure><img src="figures/buildExp3.png" alt=" "><figcaption> </figcaption></figure></p>
<p><figure><img src="figures/buildExp4.png" alt=" "><figcaption> </figcaption></figure></p>
<p><figure><img src="figures/buildExp5.png" alt=" "><figcaption> </figcaption></figure></p>
<p><figure><img src="figures/buildExp6.png" alt=" "><figcaption> </figcaption></figure></p>
<p><figure><img src="figures/buildExp7.png" alt=" "><figcaption> </figcaption></figure></p>
<p><figure><img src="figures/buildExp8.png" alt="Tracing Parse Tree Construction"><figcaption>Tracing Parse Tree Construction</figcaption></figure></p>
<p>Using the above, let&#x2019;s walk through the example
step by step:</p>
<ol>
<li>Create an empty tree.</li>
<li>Read ( as the first token. By rule 1, create a new node as the left
child of the root. Make the current node this new child.</li>
<li>Read 3 as the next token. By rule 3, set the root value of the
current node to 3 and go back up the tree to the parent.</li>
<li>Read + as the next token. By rule 2, set the root value of the
current node to + and add a new node as the right child. The new
right child becomes the current node.</li>
<li>Read a ( as the next token. By rule 1, create a new node as the left
child of the current node. The new left child becomes the
current node.</li>
<li>Read a 4 as the next token. By rule 3, set the value of the current
node to 4. Make the parent of 4 the current node.</li>
<li>Read * as the next token. By rule 2, set the root value of the
current node to * and create a new right child. The new right child
becomes the current node.</li>
<li>Read 5 as the next token. By rule 3, set the root value of the
current node to 5. Make the parent of 5 the current node.</li>
<li>Read ) as the next token. By rule 4 we make the parent of * the
current node.</li>
<li>Read ) as the next token. By rule 4 we make the parent of + the
current node. At this point there is no parent for + so we are done.</li>
</ol>
<p>From the example above, it is clear that we need to keep track of the
current node as well as the parent of the current node. The tree
interface provides us with a way to get children of a node, through the
<code>get_left_child</code> and <code>get_right_child</code> methods, but how can we keep track of
the parent? A simple solution to keeping track of parents as we traverse
the tree is to use a stack. Whenever we want to descend to a child of
the current node, we first push the current node on the stack. When we
want to return to the parent of the current node, we pop the parent off
the stack.</p>
<p>Using the rules described above, along with the stack and binary tree
abstract data types, we are now ready to write a Python function to create a
parse tree. The code for our parse tree builder is presented below.</p>
<pre><code class="lang-python"><span class="token keyword">from</span> earlier_section <span class="token keyword">import</span> Node


<span class="token keyword">def</span> build_parse_tree<span class="token punctuation">(</span>expression<span class="token punctuation">)</span><span class="token punctuation">:</span>
    head <span class="token operator">=</span> Node<span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span>
    stack <span class="token operator">=</span> <span class="token punctuation">[</span>head<span class="token punctuation">]</span>
    node <span class="token operator">=</span> head
    <span class="token keyword">for</span> token <span class="token keyword">in</span> expression<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> token <span class="token operator">==</span> <span class="token string">&apos;(&apos;</span><span class="token punctuation">:</span>
            node<span class="token punctuation">.</span>insert_left<span class="token punctuation">(</span>Node<span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">)</span>
            node <span class="token operator">=</span> node<span class="token punctuation">.</span>left
        <span class="token keyword">elif</span> token <span class="token operator">not</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">&apos;+&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;-&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;*&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;/&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;)&apos;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            node<span class="token punctuation">.</span>val <span class="token operator">=</span> int<span class="token punctuation">(</span>token<span class="token punctuation">)</span>
            parent <span class="token operator">=</span> stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
            node <span class="token operator">=</span> parent
        <span class="token keyword">elif</span> token <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">&apos;+&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;-&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;*&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;/&apos;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            node<span class="token punctuation">.</span>val <span class="token operator">=</span> token
            node<span class="token punctuation">.</span>insert_right<span class="token punctuation">(</span>Node<span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">)</span>
            node <span class="token operator">=</span> node<span class="token punctuation">.</span>right
        <span class="token keyword">elif</span> token <span class="token operator">==</span> <span class="token string">&apos;)&apos;</span><span class="token punctuation">:</span>
            node <span class="token operator">=</span> stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValueError
    <span class="token keyword">return</span> head

parse_tree <span class="token operator">=</span> build_parse_tree<span class="token punctuation">(</span><span class="token string">&apos;((10+5)*3)&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p>The four rules for building a parse tree are coded as the first four
clauses of the <code>if</code> statement above. In each case you can see that the
code implements the rule, as described above, with a few calls to the
<code>Node</code> or <code>stack</code> methods. The only error checking we do in this
function is in the <code>else</code> clause where we raise a <code>ValueError</code> exception
if we get a token from the list that we do not recognize.</p>
<p>Now that we have built a parse tree, what can we do with it? As a first
example, we will write a function to evaluate the parse tree, returning
the numerical result. To write this function, we will make use of the
hierarchical nature of the tree to write an algorithm that evaluates a parse tree
by recursively evaluating each subtree.</p>
<p>As we have done with past recursive algorithms, we will begin the design
for the recursive evaluation function by identifying the base case. A
natural base case for recursive algorithms that operate on trees is to
check for a leaf node. In a parse tree, the leaf nodes will always be
operands. Since numerical objects like integers and floating points
require no further interpretation, the <code>evaluate</code> function can simply
return the value stored in the leaf node. The recursive step that moves
the function toward the base case is to call <code>evaluate</code> on both the left
and the right children of the current node. The recursive call
effectively moves us down the tree, toward a leaf node.</p>
<p>To put the results of the two recursive calls together, we can simply
apply the operator stored in the parent node to the results returned
from evaluating both children. In the example from
above we see that the two children of the root
evaluate to themselves, namely 10 and 3. Applying the multiplication
operator gives us a final result of 30.</p>
<p>The code for a recursive <code>evaluate</code> function is shown below. First, we obtain references to the left and
the right children of the current node. If both the left and right
children evaluate to <code>None</code>, then we know that the current node is
really a leaf node. If the current node is not
a leaf node, look up the operator in the current node and apply it to
the results from recursively evaluating the left and right children.</p>
<p>To implement the arithmetic, we use a dictionary with the keys
<code>&apos;+&apos;, &apos;-&apos;, &apos;*&apos;</code>, and <code>&apos;/&apos;</code>. The values stored in the dictionary are
functions from Python&#x2019;s operator module. The operator module provides us
with the functional versions of many commonly used operators. When we
look up an operator in the dictionary, the corresponding function object
is retrieved. Since the retrieved object is a function, we can call it
in the usual way <code>function(param1, param2)</code>. So the lookup
<code>OPERATORS[&apos;+&apos;](2, 2)</code> is equivalent to <code>operator.add(2, 2)</code>.</p>
<pre><code class="lang-python"><span class="token keyword">import</span> operator

OPERATORS <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&apos;+&apos;</span><span class="token punctuation">:</span> operator<span class="token punctuation">.</span><span class="token number">add</span><span class="token punctuation">,</span>
    <span class="token string">&apos;-&apos;</span><span class="token punctuation">:</span> operator<span class="token punctuation">.</span>sub<span class="token punctuation">,</span>
    <span class="token string">&apos;*&apos;</span><span class="token punctuation">:</span> operator<span class="token punctuation">.</span>mul<span class="token punctuation">,</span>
    <span class="token string">&apos;/&apos;</span><span class="token punctuation">:</span> operator<span class="token punctuation">.</span>truediv
<span class="token punctuation">}</span>

<span class="token keyword">def</span> evaluate<span class="token punctuation">(</span>parse_tree<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> parse_tree<span class="token punctuation">.</span>left <span class="token operator">and</span> parse_tree<span class="token punctuation">.</span>right<span class="token punctuation">:</span>
        operate <span class="token operator">=</span> OPERATORS<span class="token punctuation">[</span>parse_tree<span class="token punctuation">.</span>root<span class="token punctuation">]</span>
        <span class="token keyword">return</span> operate<span class="token punctuation">(</span>evaluate<span class="token punctuation">(</span>parse_tree<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> evaluate<span class="token punctuation">(</span>parse_tree<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> parse_tree<span class="token punctuation">.</span>root
</code></pre>
<p>Finally, we will trace the <code>evaluate</code> function on the parse tree we
created above. When we first call
<code>evaluate</code>, we pass the root of the entire tree as the parameter
<code>parse_tree</code>. Then since the left and right children exist, we look up
the operator in the root of the tree, which is <code>&apos;+&apos;</code>, and which maps to the
<code>operator.add</code> function. As usual for a Python function call, the first thing Python
does is to evaluate the parameters that are passed to the function. In
this case both parameters are recursive function calls to our <code>evaluate</code>
function. Using left-to-right evaluation, the first recursive call goes
to the left. In the first recursive call the <code>evaluate</code> function is
given the left subtree. We find that the node has no left or right
children, so we are in a leaf node. When we are in a leaf node we just
return the value stored in the leaf node as the result of the
evaluation. In this case we return the integer 3.</p>
<p>At this point we have one parameter evaluated for our top-level call to
<code>operator.add</code>. But we are not done yet. Continuing the left-to-right
evaluation of the parameters, we now make a recursive call to evaluate
the right child of the root. We find that the node has both a left and a
right child so we look up the operator stored in this node, <code>&apos;*&apos;</code>, and
call this function using the left and right children as the parameters.
At this point you can see that both recursive calls will be to leaf
nodes, which will evaluate to the integers four and five respectively.
With the two parameters evaluated, we return the result of
<code>operator.mul(4, 5)</code>. At this point we have evaluated the operands for
the top level <code>&apos;+&apos;</code> operator and all that is left to do is finish the
call to <code>operator.add(3, 20)</code>. The result of the evaluation of the entire
expression tree for <script type="math/tex; ">(3 + (4 * 5))</script> is 23.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../trees/nodes-and-references.html" class="navigation navigation-prev " aria-label="Previous page: Nodes and References"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../trees/tree-traversals.html" class="navigation navigation-next " aria-label="Next page: Tree Traversals"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-ungrey/ungrey.js"></script>
    

    
    <script src="https://cdn.mathjax.org/mathjax/2.5-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax-beta/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"image-captions":{"caption":"_CAPTION_"},"mathjax":{}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
